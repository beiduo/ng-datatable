!function(t){function e(a){if(n[a])return n[a].exports;var o=n[a]={exports:{},id:a,loaded:!1};return t[a].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";n(1),n(5),n(6),n(7),n(9),n(10),n(11),n(12),n(13),n(14)},function(t,e,n){var a=n(2);"string"==typeof a&&(a=[[t.id,a,""]]);n(4)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,n){e=t.exports=n(3)(),e.push([t.id,'ng-datatable,ng-datatable-cell,ng-datatable-th{display:block}.ng-datatable-nowrap{white-space:nowrap}ng-datatable li,ng-datatable ul{padding:0;margin:0}ng-datatable ul{list-style:none}ng-datatable .triangle{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #000;text-indent:-9999px;overflow:hidden}ng-datatable .maintable{min-width:100%;border-spacing:0;border-collapse:collapse}ng-datatable td,ng-datatable th{text-align:left;vertical-align:top;font-weight:400}ng-datatable td.align-right,ng-datatable th.align-right{text-align:right}ng-datatable th.align-right ng-datatable-th-filter{left:auto;right:24px}ng-datatable th.align-right ng-datatable-th-filter.show{left:auto;right:12px}ng-datatable thead th{background:#fff;border-bottom:1px solid #c8c8c8}ng-datatable tbody>tr:nth-child(even)>td{background:#f3f3f6}ng-datatable tbody:last-child>tr:last-child>td{border-bottom-color:#f3f3f6!important}ng-datatable-th,ng-datatable .cell{padding:10px 12px}ng-datatable-th{position:relative}ng-datatable-th .thead-cell>*{display:inline-block;vertical-align:middle}ng-datatable-th .title{font-weight:700}ng-datatable-th .sort .ico{display:inline-block;width:12px;height:12px;fill:currentColor}ng-datatable-th .sort .text{display:none}ng-datatable-th .filter-trigger{transition:transform .5s}ng-datatable-th .filter-trigger-open{transform:scaleY(-1)}ng-datatable-th-filter{position:absolute;top:100%;left:0;min-width:100px;margin-top:-5px;border:1px solid #c8c8c8;border-radius:4px;background:#fff;box-shadow:0 2px 4px #b2b2b2;white-space:nowrap;overflow:hidden;visibility:hidden;opacity:0;transition:all .5s ease-in-out;z-index:2}ng-datatable-th-filter.show{left:12px;visibility:visible;opacity:1}ng-datatable-th-filter .filter-options a{display:block;padding:6px 20px;color:#555}ng-datatable-th-filter .filter-options a:active,ng-datatable-th-filter .filter-options a:hover{background:#f0f0f4}ng-datatable-th-filter .filter-options .current a:active,ng-datatable-th-filter .filter-options .current a:hover,ng-datatable-th-filter .filter-options .current a:link,ng-datatable-th-filter .filter-options .current a:visited{background:#737a7f;color:#fff}tbody[ng-datatable-group] tr:last-child>td{border-bottom:1px solid #c8c8c8}tbody[ng-datatable-group]>tr:nth-child(odd)>td{background:#f3f3f6}tbody[ng-datatable-group]>tr:nth-child(even)>td{background:#fff}tbody[ng-datatable-group] .group-header td{background:#efeff4!important}tbody[ng-datatable-group] .select-cell{width:35px;text-align:center}ng-datatable-group-header{cursor:pointer}ng-datatable-group-header .group-caption,ng-datatable-group-header .group-trigger{display:inline-block;vertical-align:middle}ng-datatable-group-header .group-caption{font-weight:700}ng-datatable-group-header .group-trigger{margin-left:.8em;transition:transform .5s}ng-datatable-group-header .group-trigger-open{transform:scaleY(-1)}.ng-datatable-check{position:relative;overflow:hidden;margin:0;padding:0;font-weight:400}.ng-datatable-check *{vertical-align:middle}.ng-datatable-check input[type=checkbox],.ng-datatable-check input[type=radio]{position:absolute;top:0;left:0;opacity:0}.ng-datatable-check .text{position:relative;margin-bottom:-3px}.ng-datatable-check .text *{display:inline-block;vertical-align:middle}.ng-datatable-check .text:before{display:inline-block;margin-right:.5em}.ng-datatable-check .text:after,.ng-datatable-check .text:before{content:" ";overflow:hidden;text-indent:-9999px;margin-bottom:-2px}.ng-datatable-check .text:after{position:absolute}.ng-datatable-check input[type=checkbox]+.text{cursor:pointer}.ng-datatable-check input[type=checkbox]+.text:before{width:15px;height:15px;background:#fff;border:1px solid #888;border-radius:4px}.ng-datatable-check input[type=checkbox]+.text:hover:before{border-color:#e71d36}.ng-datatable-check input[type=checkbox]:checked+.text:before{border-color:#e71d36;background:#e71d36}.ng-datatable-check input[type=checkbox]:checked+.text:after{top:2px;left:5px;width:5px;height:9px;transform:rotate(45deg);border:2px solid #fff;border-top:0;border-left:0}.ng-datatable-check input[type=checkbox]:indeterminate+.text:before{border-color:#e71d36;background:#e71d36}.ng-datatable-check input[type=checkbox]:indeterminate+.text:after{top:7px;left:3px;width:9px;height:2px;background:#fff;border-radius:4px}.ng-datatable-check input[type=checkbox]:disabled+.text{cursor:not-allowed}.ng-datatable-check input[type=checkbox]:disabled+.text:before{background:#efeff4}.ng-datatable-check input[type=checkbox]:disabled+.text:hover:before{border-color:#888}.ng-datatable-check input[type=radio]+.text{cursor:pointer}.ng-datatable-check input[type=radio]+.text:before{width:15px;height:15px;background:#fff;border:1px solid #888;border-radius:50%}.ng-datatable-check input[type=radio]+.text:hover:before{border-color:#e71d36}.ng-datatable-check input[type=radio]:checked+.text:before{border-color:#e71d36;background:#e71d36}.ng-datatable-check input[type=radio]:checked+.text:after{top:2px;left:5px;width:5px;height:9px;transform:rotate(45deg);border:2px solid #fff;border-top:0;border-left:0}.ng-datatable-check input[type=radio]:disabled+.text{cursor:not-allowed}.ng-datatable-check input[type=radio]:disabled+.text:before{background:#efeff4}.ng-datatable-check input[type=radio]:disabled+.text:hover:before{border-color:#888}',""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(a[r]=!0)}for(o=0;o<e.length;o++){var l=e[o];"number"==typeof l[0]&&a[l[0]]||(n&&!l[2]?l[2]=n:n&&(l[2]="("+l[2]+") and ("+n+")"),t.push(l))}},t}},function(t,e,n){function a(t,e){for(var n=0;n<t.length;n++){var a=t[n],o=p[a.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](a.parts[r]);for(;r<a.parts.length;r++)o.parts.push(s(a.parts[r],e))}else{for(var l=[],r=0;r<a.parts.length;r++)l.push(s(a.parts[r],e));p[a.id]={id:a.id,refs:1,parts:l}}}}function o(t){for(var e=[],n={},a=0;a<t.length;a++){var o=t[a],r=o[0],l=o[1],i=o[2],c=o[3],s={css:l,media:i,sourceMap:c};n[r]?n[r].parts.push(s):e.push(n[r]={id:r,parts:[s]})}return e}function r(t,e){var n=b(),a=y[y.length-1];if("top"===t.insertAt)a?a.nextSibling?n.insertBefore(e,a.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),y.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function l(t){t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function i(t){var e=document.createElement("style");return e.type="text/css",r(t,e),e}function c(t){var e=document.createElement("link");return e.rel="stylesheet",r(t,e),e}function s(t,e){var n,a,o;if(e.singleton){var r=v++;n=m||(m=i(e)),a=d.bind(null,n,r,!1),o=d.bind(null,n,r,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(e),a=u.bind(null,n),o=function(){l(n),n.href&&URL.revokeObjectURL(n.href)}):(n=i(e),a=f.bind(null,n),o=function(){l(n)});return a(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;a(t=e)}else o()}}function d(t,e,n,a){var o=n?"":a.css;if(t.styleSheet)t.styleSheet.cssText=x(e,o);else{var r=document.createTextNode(o),l=t.childNodes;l[e]&&t.removeChild(l[e]),l.length?t.insertBefore(r,l[e]):t.appendChild(r)}}function f(t,e){var n=e.css,a=e.media;if(a&&t.setAttribute("media",a),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function u(t,e){var n=e.css,a=e.sourceMap;a&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var o=new Blob([n],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}var p={},g=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},h=g(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),b=g(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,v=0,y=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=h()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=o(t);return a(n,e),function(t){for(var r=[],l=0;l<n.length;l++){var i=n[l],c=p[i.id];c.refs--,r.push(c)}if(t){var s=o(t);a(s,e)}for(var l=0;l<r.length;l++){var c=r[l];if(0===c.refs){for(var d=0;d<c.parts.length;d++)c.parts[d]();delete p[c.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),a=1;a<arguments.length;a++){var o=arguments[a];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])}return n}),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=a.length;return function(r){if("object"!==("undefined"==typeof r?"undefined":n(r))&&("function"!=typeof r||null===r))throw new TypeError("Object.keys called on non-object");var l,i,c=[];for(l in r)t.call(r,l)&&c.push(l);if(e)for(i=0;i<o;i++)t.call(r,a[i])&&c.push(a[i]);return c}}()),"function"!=typeof Object.create&&(Object.create=function(t){var e=function(){};return function(n,a){if(n!==Object(n)&&null!==n)throw TypeError("Argument must be an object, or null");e.prototype=n||{};var o=new e;return e.prototype=null,a!==t&&Object.defineProperties(o,a),null===n&&(o.__proto__=null),o}}()),Array.from||(Array.from=function(){var t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},n=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},a=Math.pow(2,53)-1,o=function(t){var e=n(t);return Math.min(Math.max(e,0),a)};return function(t){var n=this,a=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var r,l=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof l){if(!e(l))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(r=arguments[2])}for(var i,c=o(a.length),s=e(n)?Object(new n(c)):new Array(c),d=0;d<c;)i=a[d],l?s[d]="undefined"==typeof r?l(i,d):l.call(r,i,d):s[d]=i,d+=1;return s.length=c,s}}())},function(t,e){"use strict";!function(t){try{t=angular.module("ng-datatable")}catch(e){t=angular.module("ng-datatable",[])}t.run(["$templateCache",function(t){t.put("ng-datatable-cell.html","<div class=\"cell\">{{vm.applyFilter(vm.row.entity[vm.field], vm.col.filter) || '-'}}</div>")}])}(),function(t){try{t=angular.module("ng-datatable")}catch(e){t=angular.module("ng-datatable",[])}t.run(["$templateCache",function(t){t.put("ng-datatable-group-header.html",'<div class="cell"><div class="group-caption">{{vm.receive.name}}</div><a href="javascript:;" class="triangle group-trigger" ng-class="{\'group-trigger-open\': vm.ngDatatableGroup.status.groupOpen}">收起</a></div>')}])}(),function(t){try{t=angular.module("ng-datatable")}catch(e){t=angular.module("ng-datatable",[])}t.run(["$templateCache",function(t){t.put("ng-datatable-group.html",'<tr class="group-header" ng-if="vm.group.parent"><td class="select-cell" ng-if="vm.root.config.enableSelection"><div class="cell" ng-if="vm.root.config.enableGroupHeaderSelection"><label class="ng-datatable-check"><input type="checkbox" ng-model="vm.group.isSelected" ng-click="vm.onGroupSelect()"> <span class="text"></span></label></div></td><td colspan="{{vm.root.config.cols.length}}"><ng-datatable-group-header ng-click="vm.onGroupOpen()" receive="vm.group.parent" root="vm.root"></ng-datatable-group-header></td></tr><tr ng-datatable-row="" ng-repeat="el in vm.group.children" row="el" group="vm.group" ng-show="vm.status.groupOpen" root="vm.root"></tr>')}])}(),function(t){try{t=angular.module("ng-datatable")}catch(e){t=angular.module("ng-datatable",[])}t.run(["$templateCache",function(t){t.put("ng-datatable-row.html",'<td class="select-cell" ng-if="vm.root.config.enableSelection"><div class="cell"><label class="ng-datatable-check"><input type="checkbox" ng-disabled="vm.root.config.isRowSelectable && !vm.root.config.isRowSelectable(vm.row)" ng-model="vm.row.isSelected" ng-change="vm.onRowSelect()"> <span class="text"></span></label></div></td><td ng-repeat="el in vm.root.config.cols" data-ref="{{el.field}}" ng-class="vm.getTdClass(el)"><ng-datatable-cell field="el.field" row="vm.row" col="el" root="vm.root"></ng-datatable-cell></td>')}])}(),function(t){try{t=angular.module("ng-datatable")}catch(e){t=angular.module("ng-datatable",[])}t.run(["$templateCache",function(t){t.put("ng-datatable-table.html",'<table class="maintable {{vm.config.customClass}}" ng-class="{ \'ng-datatable-nowrap\': vm.config.whiteSpace === \'nowrap\' }"><thead><tr><th class="select-cell" ng-if="vm.config.enableSelection"><div class="cell" ng-if="vm.config.enableSelectAll"><label class="ng-datatable-check"><input type="checkbox" ng-model="vm.allSelected" ng-change="vm.onSelectAll()"> <span class="text"></span></label></div></th><th ng-repeat="el in vm.config.cols" data-ref="el.field" ng-class="vm.getThClass(el)"><ng-datatable-th col="el" config="vm.config" root="vm"></ng-datatable-th></th></tr></thead><tbody ng-datatable-group="" ng-repeat="el in vm.data" group="el" root="vm"></tbody></table><svg style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="icon-ng-datatable-sort-desc" viewbox="0 0 32 32"><title>ng-datatable-sort-desc</title><path class="path1" d="M21.587 8.201v22.022h3.048v-22.021h3.809l-5.333-6.423-5.333 6.423h3.81zM13.109 14.222h-6.911c-0.319 0-0.613-0.181-0.763-0.469-0.15-0.292-0.133-0.642 0.044-0.913l6.015-9.285h-5.297c-0.478 0-0.864-0.399-0.864-0.889 0-0.493 0.386-0.889 0.864-0.889h6.911c0.317 0 0.611 0.177 0.761 0.469 0.15 0.288 0.133 0.639-0.042 0.913l-6.017 9.285h5.298c0.476 0 0.864 0.396 0.864 0.889 0 0.49-0.388 0.889-0.864 0.889zM15.554 28.934l-5.182-10.667c-0.147-0.299-0.445-0.49-0.771-0.49s-0.627 0.191-0.773 0.49l-5.182 10.667c-0.212 0.441-0.041 0.972 0.386 1.194 0.125 0.063 0.256 0.094 0.386 0.094 0.315 0 0.621-0.181 0.773-0.493l1.489-3.066h5.841l1.489 3.066c0.213 0.438 0.732 0.618 1.159 0.399s0.599-0.753 0.386-1.194h-0.003zM7.467 24.674l2.058-4.229 2.056 4.229h-4.114z"></path></symbol><symbol id="icon-ng-datatable-sort-asc" viewbox="0 0 32 32"><title>ng-datatable-sort-asc</title><path class="path1" d="M24.635 23.799v-22.022h-3.048v22.021h-3.809l5.333 6.423 5.333-6.423h-3.81zM13.109 30.222h-6.911c-0.319 0-0.613-0.181-0.763-0.469-0.15-0.292-0.133-0.642 0.044-0.913l6.015-9.285h-5.297c-0.478 0-0.864-0.399-0.864-0.889 0-0.493 0.386-0.889 0.864-0.889h6.911c0.317 0 0.611 0.177 0.761 0.469 0.15 0.288 0.133 0.639-0.042 0.913l-6.017 9.285h5.298c0.476 0 0.864 0.396 0.864 0.889 0 0.49-0.388 0.889-0.864 0.889zM15.554 12.934l-5.182-10.667c-0.147-0.299-0.445-0.49-0.771-0.49s-0.627 0.191-0.773 0.49l-5.182 10.667c-0.212 0.441-0.041 0.972 0.386 1.194 0.125 0.063 0.256 0.094 0.386 0.094 0.315 0 0.621-0.181 0.773-0.493l1.489-3.066h5.841l1.489 3.066c0.213 0.438 0.732 0.618 1.159 0.399s0.599-0.753 0.386-1.194h-0.003zM7.467 8.674l2.058-4.229 2.056 4.229h-4.114z"></path></symbol><symbol id="icon-ng-datatable-sort" viewbox="0 0 32 32"><title>ng-datatable-sort</title><path class="path1" d="M8.635 23.799v-22.022h-3.048v22.021h-3.809l5.333 6.423 5.333-6.423h-3.81zM16.905 3.556c-0.491 0-0.889 0.285-0.889 0.673v1.321c0 0.372 0.41 0.673 0.889 0.673h12.436c0.491 0 0.889-0.285 0.889-0.673v-1.321c0-0.372-0.41-0.673-0.889-0.673h-12.436zM16.861 14.222c-0.482 0-0.872 0.285-0.872 0.673v1.321c0 0.372 0.405 0.673 0.872 0.673h8.916c0.482 0 0.872-0.285 0.872-0.673v-1.321c0-0.372-0.405-0.673-0.872-0.673h-8.916zM16.871 24.889c-0.481 0-0.871 0.285-0.871 0.673v1.321c0 0.372 0.382 0.673 0.871 0.673h5.364c0.481 0 0.871-0.285 0.871-0.673v-1.321c0-0.372-0.382-0.673-0.871-0.673h-5.364z"></path></symbol></defs></svg>')}])}(),function(t){try{t=angular.module("ng-datatable")}catch(e){t=angular.module("ng-datatable",[])}t.run(["$templateCache",function(t){t.put("ng-datatable-th-filter.html",'<ul class="filter-options"><li ng-class="{ current: !vm.status.selected }"><a href="javascript:;" ng-click="vm.onfilterSelect(null)">全部</a></li><li ng-repeat="option in vm.options track by $index" ng-class="{ current: option == vm.status.selected }"><a href="javascript:;" ng-click="vm.onfilterSelect(option)">{{option.name}}</a></li></ul>')}])}(),function(t){try{t=angular.module("ng-datatable")}catch(e){t=angular.module("ng-datatable",[])}t.run(["$templateCache",function(t){t.put("ng-datatable-th.html",'<div class="thead-cell with-filter"><div class="title">{{vm.col.displayName}}</div><a href="javascript:;" class="sort" ng-if="vm.col.enableSort" ng-click="vm.onSort()"><svg class="ico" ng-if="vm.config.sortOptions.sortBy !== vm.col.field"><use xlink:href="#icon-ng-datatable-sort"></use></svg><svg class="ico" ng-if="vm.config.sortOptions.sortBy === vm.col.field && vm.config.sortOptions.order === \'asc\'"><use xlink:href="#icon-ng-datatable-sort-asc"></use></svg><svg class="ico" ng-if="vm.config.sortOptions.sortBy === vm.col.field && vm.config.sortOptions.order === \'desc\'"><use xlink:href="#icon-ng-datatable-sort-desc"></use></svg><span class="text">排序</span></a> <a href="javascript:;" class="triangle filter-trigger" ng-class="{ \'filter-trigger-open\': vm.status.filterOpen }" ng-click="vm.onFilterTrigger()" ng-if="vm.col.enableFilter">过滤</a><ng-datatable-th-filter ng-class="{show: vm.status.filterOpen}" ng-if="vm.col.enableFilter" options="vm.col.filterOptions" col="vm.col" root="vm.root"></ng-datatable-th-filter></div>')}])}()},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=this;this.buildData=function(t,n){e.receive=n,e.config=t,e.data=e.buildGroup(t,n),e.dataFilter(),e.dataSort(),e.rows=e.buildPlainRows()},this.buildData=this.buildData.bind(this),this.dataFilter=function(){var t=e,n=e.config.params;"object"===("undefined"==typeof n?"undefined":r(n))&&Object.keys(n).forEach(function(e){if(null!==n[e]&&void 0!==n[e]&&""!==n[e]){var a=t.config.cols.find(function(t){return t.field===e});a&&"object"===r(a.filterOptions)&&t.data.forEach(function(t){t.children=t.children.filter(function(t){return t.entity[e]===a.filterOptions.find(function(t){return t.value===n[e]}).name})})}})},this.dataSort=function(){var t=e;"object"===r(e.config.sortOptions)&&e.config.sortOptions.sortBy&&e.data.forEach(function(e){var n=t.config.sortOptions;e.children=e.children.sort(function(t,e){return"desc"===n.order?e.entity[n.sortBy]-t.entity[n.sortBy]:t.entity[n.sortBy]-e.entity[n.sortBy]})})},this.buildGroup=function(t,e){var n=[];return n=t.enableGrouping?e.map(function(e){var n={};return"object"===r(e[t.groupBy])?n.parent=Object.assign({},e[t.groupBy]):n.parent={name:e[t.groupBy]},Array.isArray(e[t.groupIn])&&(n.children=e[t.groupIn].map(function(t){return{entity:t}})),n}):[{children:e.map(function(t){return{entity:t}})}],"function"==typeof t.dataSerialize&&n.forEach(function(e){e.children.forEach(function(e){e.entity=t.dataSerialize(e.entity)})}),n},this.buildPlainRows=function(){var t=[];return e.data.forEach(function(e){e.children.forEach(function(e){t[t.length]=e})}),t},this.onSelectAll=function(){var t=e.config.isRowSelectable;e.allSelected?(e.rows.forEach(function(e){("function"!=typeof t||t(e))&&(e.isSelected=!0)}),e.data.forEach(function(t){t.isSelected=!0})):(e.rows.forEach(function(e){("function"!=typeof t||t(e))&&(e.isSelected=!1)}),e.data.forEach(function(t){t.isSelected=!1}))},this.onSort=function(t){"object"===("undefined"==typeof t?"undefined":r(t))&&(e.config.sortOptions=Object.assign({},e.config.sortOptions,t),"function"==typeof e.config.onFetch?e.config.onFetch(Object.assign({},e.config.params,e.config.sortOptions)):(e.dataSort(),e.rows=e.buildPlainRows()))},this.onSort=this.onSort.bind(this),this.onParamsChange=function(t,n){"string"==typeof t&&(e.config.params[t]=n?n.value:null),"function"==typeof e.config.onFetch?e.config.onFetch(Object.assign({},e.config.params,e.config.sortOptions)):e.buildData(e.config,e.receive)},this.onParamsChange=this.onParamsChange.bind(this),this.getThClass=function(t){var e=[];return t.alignRight&&e.push("align-right"),e.push("col-"+t.field+"-th"),e.join(" ")},this.$onInit=function(){var n=e;return e.colViews={},"object"!==r(e.config)?void console.error("config is not defined"):(e.receive=e.receive||[],e.templateUrls={table:"ng-datatable-table.html",th:"ng-datatable-th.html",thFilter:"ng-datatable-th-filter.html",groupHeader:"ng-datatable-group-header.html",cell:"ng-datatable-cell.html"},"string"==typeof e.config.tableTemplateUrl&&(e.templateUrls.table=e.config.tableTemplateUrl),"string"==typeof e.config.tableTemplate&&(t.put("ng-datatable-custom-table",e.config.tableTemplate),e.templateUrls.table="ng-datatable-custom-table"),"string"==typeof e.config.theadCellTemplateUrl&&(e.templateUrls.th=e.config.theadCellTemplateUrl),"string"==typeof e.config.theadCellTemplate&&(t.put("ng-datatable-custom-th",e.config.theadCellTemplate),e.templateUrls.th="ng-datatable-custom-th"),"string"==typeof e.config.filterTemplateUrl&&(e.templateUrls.thFilter=e.config.filterTemplateUrl),"string"==typeof e.config.filterTemplate&&(t.put("ng-datatable-custom-th-filter",e.config.filterTemplate),e.templateUrls.thFilter="ng-datatable-custom-th-filter"),"string"==typeof e.config.groupHeaderTemplateUrl&&(e.templateUrls.groupHeader=e.config.groupHeaderTemplateUrl),"string"==typeof e.config.groupHeaderTemplate&&(t.put("ng-datatable-custom-group-header",e.config.groupHeaderTemplate),e.templateUrls.groupHeader="ng-datatable-custom-group-header"),"string"==typeof e.config.cellTemplateUrl&&(e.templateUrls.cell=e.config.cellTemplateUrl),"string"==typeof e.config.cellTemplate&&(t.put("ng-datatable-custom-cell",e.config.cellTemplate),e.templateUrls.cell="ng-datatable-custom-cell"),e.config.cols.forEach(function(e){return"string"!=typeof e.field?void console.error("each column must has a field property, otherwise some functions might not work. if this column doesn't connect with any field in your data, just use any radom field name."):("string"==typeof e.theadCellTemplateUrl&&(n.templateUrls["th_"+e.field]=e.theadCellTemplateUrl),"string"==typeof e.filterTemplateUrl&&(n.templateUrls["filter_"+e.field]=e.filterTemplateUrl),"string"==typeof e.cellTemplateUrl&&(n.templateUrls["cell_"+e.field]=e.cellTemplateUrl),"string"==typeof e.theadCellTemplate&&(t.put("ng-datatable-th_"+e.field,e.theadCellTemplate),n.templateUrls["th_"+e.field]="ng-datatable-th_"+e.field),"string"==typeof e.filterTemplate&&(t.put("ng-datatable-th-filter_"+e.field,e.filterTemplate),n.templateUrls["thFilter_"+e.field]="ng-datatable-th-filter_"+e.field),void("string"==typeof e.cellTemplate&&(t.put("ng-datatable-cell_"+e.field,e.cellTemplate),n.templateUrls["cell_"+e.field]="ng-datatable-cell_"+e.field)))}),e.config.enableGrouping&&(e.config=Object.assign({},{groupBy:"parent",groupIn:"chilren"},e.config)),e.config.sortOptions=Object.assign({},e.config.sortDefaults),e.buildData(e.config,e.receive),e.api={getRows:function(){return e.rows},getSelections:function(){return e.rows.filter(function(t){return t.isSelected})},selectAllRows:function(){e.allSelected=!0,e.onSelectAll()},unselectAllRows:function(){e.allSelected=!1,e.onSelectAll()},getRowsBy:function(t){return e.rows.filter(function(e){return Object.keys(t).every(function(n){return t[n]===e.entity[n]})})},getParams:function(){return e.config.params},setData:function(t){e.buildData(e.config,t)},setParams:function(t){var n=e;return"object"!==("undefined"==typeof t?"undefined":r(t))?void console.error("setParams method requires an object as its first parameter"):(e.config.params=Object.assign({},e.config.params,t),e.onParamsChange(),void Object.keys(t).forEach(function(e){var a=void 0;a=null===t[e]||void 0===t[e]||""===t[e]?null:n.colViews[e].ngDatatableThFilter.options.find(function(n){return n.value===t[e]}),n.colViews[e].ngDatatableThFilter.setSelected(a)}))},getView:function(){return e},disableSelection:function(){e.config.enableSelection=!1},enableSelection:function(){e.config.enableSelection=!0},toggleSelection:function(){e.config.enableSelection=!e.config.enableSelection},disableGroupHeaderSelection:function(){e.config.enableGroupHeaderSelection=!1},enableGroupHeaderSelection:function(){e.config.enableGroupHeaderSelection=!0},disableSelectAll:function(){e.config.enableSelectAll=!1},enableSelectAll:function(){e.config.enableSelectAll=!0}},Object.keys(e.api).forEach(function(t){e.api[t]=e.api[t].bind(n)}),"function"==typeof e.config.apiRegister&&e.config.apiRegister(e.api),void(e.root=e))}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=n(8),i=a(l);o.$inject=["$templateCache"],i.default.component("ngDatatable",{bindings:{config:"<",receive:"<",appScope:"<"},template:"<ng-include src=\"vm.templateUrls['table']\"></ng-include>",controller:o,controllerAs:"vm"})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=void 0;try{n=angular.module("ng-datatable")}catch(t){n=angular.module("ng-datatable",[])}e.default=n},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function o(){var t=this;this.status={},this.getTemplateUrl=function(){var e=t.root.templateUrls;return e["th_"+t.col.field]||e.th},this.onFilterTrigger=function(){t.status.filterOpen=!t.status.filterOpen},this.onFilterTrigger=this.onFilterTrigger.bind(this),this.onSort=function(){var e={};e=t.config.sortOptions.sortBy!==t.col.field?{sortBy:t.col.field,order:"asc"}:"asc"===t.config.sortOptions.order?{sortBy:t.col.field,order:"desc"}:t.config.sortDefaults,t.root.onSort(e)},this.$onInit=function(){t.root=t.ngDatatable,t.root.colViews[t.col.field]=t}}var r=n(8),l=a(r);l.default.component("ngDatatableTh",{bindings:{col:"<",config:"<"},require:{ngDatatable:"^"},template:'<ng-include src="vm.getTemplateUrl()"></ng-include>',controller:o,controllerAs:"vm"})},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n,a){function o(t){var n=e[0],a=n.parentNode.querySelector("a.filter-trigger"),o=t.target,r=!1;if(t&&o&&n){for(;o;o=o.parentNode)if(o===n||o===a){r=!0;break}r||i.onClose()}}function r(){return"ontouchstart"in window||navigator.maxTouchPoints}var l=this,i=this;this.status={},this.getTemplateUrl=function(){var t=l.root.templateUrls;return t["thFilter_"+l.col.field]||t.thFilter},this.onClose=function(){var e=l;t.$apply(function(){e.ngDatatableTh.status.filterOpen=!1})},this.onfilterSelect=function(t){l.status.selected=t,l.ngDatatableTh.status.filterOpen=!1,l.root.onParamsChange(l.col.field,t)},this.setSelected=function(t){l.status.selected=t},this.setSelected=this.setSelected.bind(this),this.$onInit=function(){var t=l;l.status.selected=null;var e=l.root.config.params;Object.keys(e).forEach(function(n){n===t.col.field&&(t.status.selected=t.options.find(function(t){return t.value===e[n]}))}),l.ngDatatableTh.ngDatatableThFilter=l},this.$postLink=function(){a(function(){n.on("click",o),r&&n.on("touchstart",o)},0)},this.$destroy=function(){n.off("click",o),r&&n.off("touchstart",o)}}var r=n(8),l=a(r);o.$inject=["$scope","$element","$document","$timeout"],l.default.component("ngDatatableThFilter",{bindings:{options:"<",col:"<",root:"<"},require:{ngDatatableTh:"^"},template:'<ng-include src="vm.getTemplateUrl()"></ng-include>',controller:o,controllerAs:"vm"})},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function o(){var t=this;this.status={groupOpen:!0},this.onGroupOpen=function(){t.status.groupOpen=!t.status.groupOpen},this.onGroupOpen=this.onGroupOpen.bind(this),this.onGroupSelect=function(){var e=t.root.config.isRowSelectable;t.group.isSelected?t.group.children.forEach(function(t){("function"!=typeof e||e(t))&&(t.isSelected=!0)}):(t.root.allSelected=!1,t.group.children.forEach(function(t){("function"!=typeof e||e(t))&&(t.isSelected=!1)})),"function"==typeof t.root.config.onGroupSelectionChange&&t.root.config.onGroupSelectionChange(t.group)},this.$onInit=function(){t.root=t.ngDatatable}}var r=n(8),l=a(r);l.default.directive("ngDatatableGroup",function(){return{restrict:"EA",templateUrl:"ng-datatable-group.html",scope:{group:"="},require:{ngDatatable:"^"},controller:o,controllerAs:"vm",bindToController:!0}})},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function o(){}var r=n(8),l=a(r);l.default.component("ngDatatableGroupHeader",{bindings:{receive:"<",root:"<"},require:{ngDatatableGroup:"^"},template:"<ng-include src=\"vm.root.templateUrls['groupHeader']\"></ng-include>",controller:o,controllerAs:"vm"})},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function o(){var t=this;this.onRowSelect=function(){t.row.isSelected||(t.root.allSelected=!1,t.group.isSelected=!1),"function"==typeof t.root.config.onRowSelectionChange&&t.root.config.onRowSelectionChange(t.row)},this.getTdClass=function(t){var e=[];return t.alignRight&&e.push("align-right"),e.push("col-"+t.field+"-td"),e.join(" ")}}var r=n(8),l=a(r);l.default.directive("ngDatatableRow",function(){return{restrict:"EA",templateUrl:"ng-datatable-row.html",scope:{row:"=",group:"=",root:"="},require:{ngDatatableGroup:"^"},controller:o,controllerAs:"vm",bindToController:!0}})},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=this;this.getTemplateUrl=function(){var t=e.root.templateUrls;return t["cell_"+e.col.field]||t.cell},this.applyFilter=function(n,a){if(a){var o=a.split(":"),r=o[0],l=[n];return o.length>1&&(l=l.concat(o.slice(1))),t(r).apply(e,l)}return n}}var r=n(8),l=a(r);o.$inject=["$filter"],l.default.component("ngDatatableCell",{bindings:{row:"<",field:"<",col:"<",root:"<"},require:{ngDatatableRow:"^"},template:'<ng-include src="vm.getTemplateUrl()"></ng-include>',controller:o,controllerAs:"vm"})}]);
//# sourceMappingURL=ng-datatable.min.js.map